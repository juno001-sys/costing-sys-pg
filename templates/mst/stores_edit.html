{% extends "layout/base.html" %}
{% block title %}{{ t("stores.edit.title") }}{% endblock %}

{% block content %}
<h2>{{ t("stores.edit.heading") }}</h2>

<form method="post">
  <div class="form-group">
    <label>{{ t("common.code") }}：</label>
    <input type="text" name="code" value="{{ store.code or '' }}">
  </div>

  <div class="form-group">
    <label>{{ t("stores.name") }}：</label>
    <input type="text" name="name" value="{{ store.name or '' }}" required>
  </div>

  <div class="form-group">
    <label>{{ t("stores.seats") }}：</label>
    <input type="text" name="seats" value="{{ store.seats or '' }}">
  </div>

  <div class="form-group">
    <label>{{ t("stores.opened_on") }}：</label>
    <input type="date" name="opened_on" value="{{ store.opened_on or '' }}">
  </div>

  <div class="form-group">
    <label>{{ t("stores.closed_on") }}：</label>
    <input type="date" name="closed_on" value="{{ store.closed_on or '' }}">
  </div>

  <hr>

  <h3>{{ t("stores.suppliers.title") }}</h3>
  <div class="supplier-checkbox-list">
    {% for s in suppliers %}
      <label style="display:block; margin-bottom:4px;">
        <input
          type="checkbox"
          name="supplier_ids"
          value="{{ s.id }}"
          {% if s.id in linked_supplier_ids %}checked{% endif %}
        >
        {{ s.code }} - {{ s.name }}
      </label>
    {% endfor %}
  </div>

  <hr>

  <button type="submit">{{ t("common.update") }}</button>

  <button
    type="submit"
    name="delete"
    value="1"
    onclick="return confirm('{{ t("stores.confirm_disable") }}');"
  >
    {{ t("stores.disable") }}
  </button>
</form>
{% endblock %}
