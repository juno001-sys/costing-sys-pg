{% extends "base.html" %} {% block title %}{{ t("items.master.title") }}{%
endblock %} {% block content %}

<h3>{{ t("items.new.title") }}</h3>
<form method="post">
  <div>
    <label>{{ t("form.supplier") }}：</label>
    <select name="supplier_id" required>
      <option value="">{{ t("common.select") }}</option>
      {% for s in suppliers %}
      <option value="{{ s.id }}">{{ s.code }} {{ s.name }}</option>
      {% endfor %}
    </select>
  </div>

  <div style="margin-top: 4px">
    <label>{{ t("items.name") }}：</label>
    <input type="text" name="name" size="30" required />
  </div>

  <div style="margin-top: 4px">
    <label>{{ t("items.case_size") }}：</label>
    <input type="text" name="unit" size="6" />
  </div>

  <div style="margin-top: 4px">
    <label>{{ t("items.temp_zone") }}：</label>
    <select name="temp_zone">
      <option value="">{{ t("common.unset") }}</option>
      <option value="冷凍">冷凍</option>
      <option value="冷蔵">冷蔵</option>
      <option value="常温">常温</option>
      <option value="その他">その他</option>
    </select>
  </div>

  <div style="margin-top: 4px">
    <label>
      <input type="checkbox" name="is_internal" value="1" />
      {{ t("items.is_internal") }}
    </label>
  </div>

  <div style="margin-top: 8px">
    <button type="submit">{{ t("common.create") }}</button>
  </div>
</form>

<hr />

<h3>{{ t("items.list.title") }}</h3>
<table border="1" cellpadding="4" cellspacing="0">
  <thead>
    <tr>
      <th>ID</th>
      <th>{{ t("items.code") }}</th>
      <th>{{ t("items.name") }}</th>
      <th>{{ t("form.supplier") }}</th>
      <th>{{ t("items.case_size") }}</th>
      <th>{{ t("items.temp_zone") }}</th>
      <th>{{ t("items.is_internal") }}</th>
      <th>{{ t("common.edit") }}</th>
    </tr>
  </thead>
  <tbody>
    {% for i in items %}
    <tr>
      <td>{{ i.id }}</td>
      <td>{{ i.code }}</td>
      <td>{{ i.name }}</td>
      <td>{{ i.supplier_name }}</td>
      <td style="text-align: right">{{ i.unit or '' }}</td>
      <td>{{ i.temp_zone or '' }}</td>
      <td>{% if i.is_internal %}◯{% endif %}</td>
      <td>
        <a href="{{ url_for('edit_item', item_id=i.id) }}"
          >{{ t("common.edit") }}</a
        >
      </td>
    </tr>
    {% else %}
    <tr>
      <td colspan="8">{{ t("items.empty") }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
