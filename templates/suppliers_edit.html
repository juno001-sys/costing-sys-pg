<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <title>仕入先編集</title>
    <style>
      body {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
          sans-serif;
        margin: 20px;
      }
      h1 {
        font-size: 22px;
        margin-bottom: 8px;
      }
      a {
        text-decoration: none;
        color: #0366d6;
      }
      a:hover {
        text-decoration: underline;
      }
      form {
        margin-top: 12px;
        padding: 8px 12px;
        border: 1px solid #ccc;
        border-radius: 4px;
      }
      label {
        display: inline-block;
        width: 80px;
        margin-right: 8px;
        vertical-align: top;
      }
      input[type="text"] {
        padding: 2px 4px;
        font-size: 13px;
      }
      .row {
        margin-bottom: 6px;
      }
      button {
        padding: 4px 12px;
        font-size: 13px;
        margin-top: 10px;
      }
    </style>
  </head>
  <body>
    <h1>仕入先編集</h1>

    <p>
      <a href="{{ url_for('suppliers_master') }}">← 仕入先マスタ一覧へ戻る</a>
    </p>

    {% with messages = get_flashed_messages() %} {% if messages %}
    <div style="color: darkred; margin-bottom: 10px">
      {% for msg in messages %}
      <div>{{ msg }}</div>
      {% endfor %}
    </div>
    {% endif %} {% endwith %}

    <form method="post" action="">
      <div class="row">
        <label>コード</label>
        <input type="text" name="code" value="{{ supplier.code or '' }}" />
      </div>

      <div class="row">
        <label>仕入先名</label>
        <input
          type="text"
          name="name"
          size="40"
          value="{{ supplier.name or '' }}"
          required
        />
      </div>

      <div class="row">
        <label>電話</label>
        <input
          type="text"
          name="phone"
          size="30"
          value="{{ supplier.phone or '' }}"
        />
      </div>

      <div class="row">
        <label>メール</label>
        <input
          type="text"
          name="email"
          size="40"
          value="{{ supplier.email or '' }}"
        />
      </div>

      <div class="row">
        <label>住所</label>
        <input
          type="text"
          name="address"
          size="60"
          value="{{ supplier.address or '' }}"
        />
      </div>

      <div style="margin-top: 12px">
        <button type="submit">更新する</button>

        <!-- 削除ボタン（確認ダイアログ付き） -->
        <button
          type="submit"
          name="delete"
          value="1"
          style="margin-left: 12px; background-color: #c00; color: #fff"
          onclick="return confirm('この仕入先を本当に削除しますか？\n過去の取引データでは仕入先名が表示されなくなる可能性があります。');"
        >
          削除する
        </button>
      </div>
    </form>
  </body>
</html>
